!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self)["bz-geetest"]=t()}(this,function(){"use strict";var f=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;var e=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,o,r=arguments,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var i in n=Object(r[c]))u.call(n,i)&&(s[i]=n[i]);if(f){o=f(n);for(var a=0;a<o.length;a++)l.call(n,o[a])&&(s[o[a]]=n[o[a]])}}return s};function t(e,t){var n=window.location.host,o=t||e;return-1!==n.indexOf("office")?"//"+e+".office.bzdev.net":-1!==n.indexOf("online")?"//"+e+".online.seedit.cc":"//"+o+".bozhong.com"}Object.assign=e;var i=1,n={token:"https://"+t("bbs")+"/restful/misc/token.jsonp",geetest:"https://"+t("bbs")+"/restful/misc/geetest.jsonp"};function o(e,t,n){var o=t+(i+=1),r=document.getElementsByTagName("head")[0],s=document.createElement("script"),c=e+"&__c="+o;s.src=c,r.appendChild(s),window[o]=function(e){"function"==typeof n&&n(e),r.removeChild(s),window[o]=null}}function r(t){o(n.token+"?type="+t.tokenType,"restful_misc_token_",function(e){0===e.error_code?function(e,r){o(n.geetest+"?token="+e,"restful_misc_geetest_",function(e){if(0===e.error_code){var t={gt:e.data.gt,challenge:e.data.challenge,offline:!e.data.success},n=Object.assign(t,r.geetestOptions);initGeetest(n,function(e){var t=document.getElementsByTagName("body")[0],n=document.createElement("div"),o=document.createElement("div");n.setAttribute("class","geetest-box"),o.setAttribute("class","geetest-box__main"),n.appendChild(o),t.appendChild(n),e.appendTo(".geetest-box__main"),e.onSuccess(function(){setTimeout(function(){t.removeChild(n)},1e3),r.fn()})})}else console.log(e.error_message)})}(e.data.token,t):console.log(e.error_message)})}return{geetest:function(e){var t={tokenType:"geetest",geetestOptions:{product:"embed"},fn:function(){console.log("\u56de\u8c03\u6210\u529f\uff01")}};r(Object.assign(t,e))}}});