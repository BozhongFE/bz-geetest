!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("object-assign")):"function"==typeof define&&define.amd?define(["object-assign"],t):(e=e||self)["bz-geetest"]=t(e.ObjectAssign)}(this,function(e){"use strict";function t(e,t){var n=window.location.host,o=t||e;return-1!==n.indexOf("office")?"//"+e+".office.bzdev.net":-1!==n.indexOf("online")?"//"+e+".online.seedit.cc":"//"+o+".bozhong.com"}e=e&&e.hasOwnProperty("default")?e.default:e,Object.assign=e;var a=1,n={token:"https://"+t("bbs")+"/restful/misc/token.jsonp",geetest:"https://"+t("bbs")+"/restful/misc/geetest.jsonp"};function o(e,t,n){var o=t+(a+=1),s=document.getElementsByTagName("head")[0],i=document.createElement("script"),c=e+"&__c="+o;i.src=c,s.appendChild(i),window[o]=function(e){"function"==typeof n&&n(e),s.removeChild(i),window[o]=null}}function s(t){o(n.token+"?type="+t.tokenType,"restful_misc_token_",function(e){0===e.error_code?function(e,s){o(n.geetest+"?token="+e,"restful_misc_geetest_",function(e){if(0===e.error_code){var t={gt:e.data.gt,challenge:e.data.challenge,offline:!e.data.success},n=Object.assign(t,s.geetestOptions);initGeetest(n,function(e){var t=document.getElementsByTagName("body")[0],n=document.createElement("div"),o=document.createElement("div");n.setAttribute("class","geetest-box"),o.setAttribute("class","geetest-box__main"),n.appendChild(o),t.appendChild(n),e.appendTo(".geetest-box__main"),e.onSuccess(function(){setTimeout(function(){t.removeChild(n)},1e3),s.fn()})})}else console.log(e.error_message)})}(e.data.token,t):console.log(e.error_message)})}return{geetest:function(e){var t={tokenType:"geetest",geetestOptions:{product:"embed"},fn:function(){console.log("\u56de\u8c03\u6210\u529f\uff01")}};s(Object.assign(t,e))}}});